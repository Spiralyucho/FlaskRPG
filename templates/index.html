<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Flask RPG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">

<h2>ğŸ§™ í”Œë ˆì´ì–´</h2>

<div class="status">
  <p>â¤ï¸ HP {{ player.hp }} / {{ player.max_hp }}</p>
  <p>ğŸ”µ MP {{ player.mp }} / {{ player.max_mp }}</p>
  <p>ğŸ’° GOLD {{ player.gold }}</p>
  <p>ğŸ§ª í¬ì…˜ {{ player.inventory.potion }}</p>
  <p>ğŸ—¡ ë¬´ê¸° {{ player.weapon }}</p>
  <p>ğŸ›¡ ë°©ì–´êµ¬ {{ player.armor }}</p>
</div>

{% if state == "menu" %}
  <div class="menu">
    <button onclick="location.href='/battle'">âš” ì „íˆ¬ ì‹œì‘</button>
    <button onclick="location.href='/shop'">ğŸª ìƒì </button>
    <button onclick="location.href='/use_potion'">ğŸ§ª í¬ì…˜ ì‚¬ìš©</button>
    <button onclick="location.href='/save'">ğŸ’¾ ì €ì¥</button>
    <button onclick="location.href='/load'">ğŸ“‚ ë¶ˆëŸ¬ì˜¤ê¸°</button>
  </div>
{% endif %}

{% if state == "shop" %}
  <h3>ğŸª ìƒì </h3>

  <div class="shop-item">
    <div>
      ğŸ§ª í¬ì…˜<br>
      <small>ì²´ë ¥ +40</small>
    </div>
    <button onclick="location.href='/buy/potion'">15 GOLD</button>
  </div>

  <div class="shop-item">
    <div>
      ğŸ—¡ ê°•ì²  ê²€<br>
      <small>ê³µê²©ë ¥ +5</small>
    </div>
    <button onclick="location.href='/buy/sword'">80 GOLD</button>
  </div>

  <div class="shop-item">
    <div>
      ğŸ”¥ í™”ì—¼ ê²€<br>
      <small>ê³µê²©ë ¥ +10 / 3í„´ ë„íŠ¸ë”œ</small>
    </div>
    <button onclick="location.href='/buy/fire_sword'">150 GOLD</button>
  </div>

  <div class="shop-item">
    <div>
      â„ ì–¼ìŒ ê²€<br>
      <small>ê³µê²©ë ¥ +8 / ê³µê²©ë ¥ ê°ì†Œ</small>
    </div>
    <button onclick="location.href='/buy/ice_sword'">130 GOLD</button>
  </div>

  <div class="shop-item">
    <div>
      ğŸ›¡ ì²  ê°‘ì˜·<br>
      <small>ë°©ì–´ë ¥ +4</small>
    </div>
    <button onclick="location.href='/buy/armor'">70 GOLD</button>
  </div>

  <button class="back" onclick="location.href='/menu'">â¬… ë‚˜ê°€ê¸°</button>
{% endif %}

{% if state == "battle" and monster %}
  <h3>{{ monster.name }}</h3>
  <p>ğŸ‘¾ HP {{ monster.hp }} / {{ monster.max_hp }}</p>

  {% if monster.effects %}
    <p class="effects">
      {% for e, t in monster.effects.items() %}
        {{ e }} {{ t }}í„´
      {% endfor %}
    </p>
  {% endif %}

  <div class="menu">
    <button onclick="location.href='/attack/normal'">âš” ê³µê²©</button>
    <button onclick="location.href='/attack/skill'">ğŸ”¥ ìŠ¤í‚¬</button>
    <button onclick="location.href='/attack/ult'">ğŸ’¥ ê¶ê·¹ê¸°</button>
  </div>
{% endif %}

<hr>
<p class="log">{{ log }}</p>

</div>
</body>
</html>
